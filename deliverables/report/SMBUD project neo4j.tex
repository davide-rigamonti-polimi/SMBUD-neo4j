%----------------------------------------------------------------------------------------
%	PACKETS AND CONFIGURATION
%----------------------------------------------------------------------------------------

\documentclass[12pt, a4paper]{article}

\usepackage{times} % Times New Roman font
\usepackage{graphicx} % 'graphics' package interface
\usepackage{geometry} % Edit document margins
\usepackage{hyperref} % Table of contents hyperlinks

% HELPER PACKAGES (REMOVE IN FINAL) %
\usepackage{blindtext} % Lorem Ipsum
\usepackage{todonotes} % TODOs as useful reminders
\setlength{\marginparwidth}{2cm} % Otherwise todonotes gets angry at me lol
\setuptodonotes{fancyline, color=green!40, shadow} % TODOs options
% HELPER PACKAGES (REMOVE IN FINAL) %

\graphicspath{ {./res/} } % Path to graphics
\hypersetup{    % ToC Hyperlink setup
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

%----------------------------------------------------------------------------------------
%	DOCUMENT
%----------------------------------------------------------------------------------------

\begin{document}

\newgeometry{top=7cm, bottom=2cm} % Setting the margins for the title

% Title
\begin{titlepage}
    \centering
    {\Huge\bfseries Pandemic Information System Model\par} % Project title
    \vspace{1.5cm}
    {\scshape\large Systems and Methods for Big and Unstructured Data \par} % Course
    \vspace{0.5cm}
    {\scshape\large Prof. Marco Brambilla \par} % Professor
    \vspace{1cm}
    {\scshape\large % Description
        First delivery \par 
        Neo4j Project \par 
    }
    \vspace{0.5cm}
    {\slshape\large November 2021 \par} % Date
    \vspace{1cm}
    {\large\itshape % Authors
        \todo{add personal codes}
        Avci Oguzhan - \texttt{xxxxxxxx}\\
        Gentile Nicole - \texttt{10594355}\\
        Rigamonti Davide - \texttt{10629791}\\
        Singh Raul - \texttt{xxxxxxxx}\\
        Tagliaferri Mattia - \texttt{xxxxxxxx}
    }
    \vfill
    \begin{figure}[b]
        \includegraphics[scale=0.6]{polimi} % Polimi logo
        \centering
    \end{figure}

    \pagenumbering{gobble} % Remove page number

\end{titlepage}

\newgeometry{bottom=3cm} % Reset the margins
\pagenumbering{arabic} % Reset the page number

\clearpage

% INDEX
\tableofcontents

% LIST OF TODOs (REMOVE IN FINAL)
\listoftodos

\clearpage

% INTRODUCTION
\section{Introduction}

\subsection{Problem Specification}

We represented a population of XXX \todo{fill with population size} people in 
the USA. \\
The database receives data coming from tracing applications that use sensor in 
smartphones, wearable objects or other devices to understand whether two people 
had a contact; data includes date and time of the contact. \\  
Some places, like restaurants, theaters and hospitals, collect date and name of 
visiting people. \\
The idea is to use this database so that, if a person gets positive, we can 
understand who are all people who had a contact with him/her. Contacts are of 
different types: in family (since people from the same family are always in 
contact), in a location (if someone is positive, we alert people who were in 
the same location on the same day) or are given by an application using sensors. 
Data are recorded from 02/2020 and can be used for analytical purposes. 

\subsection{Hypoteses}

\emph{Vaccine date}, \emph{date of the last contagion}, \emph{date of the last 
negative test} and \emph{healing date} are optional fields. \\ 
A person is considered either \emph{infected} if they have a contagion date, 
\emph{healed} if they have an healing date and a contagion date or neither if 
they have none yet. \\
We assumed that people can do tests without being infected (or after healing) 
and that people can decide not to get the vaccine but vaccinated people can 
still get infected. \\
We also assumed that people can get covid at most once (realistic if we 
consider perfect antibodies), in this way it's easier to store and retrieve 
data in order to build statistics. \\
Members of a family are assumed to be all the people who live together, 
relatives who see each other very often or roommates. Obviously, all members 
of a family live in the same city and are considered "always in contact". \\
When adding data about people going places, we do not consider distances 
between the city where they live in and the location they go to, so they can 
exist in different places at the same time. \todo{check if accesses from the same person can be generated at the same time} \\   
\todo{is this still true?} 
Regarding the places we have: people who got covid after 18/10 went to places 
from 18/09/2021 to 17/10/2021, since we assume that later they are in 
quarantine; all the others went to visit locations from 18/09/2021 to 
17/11/2021. 
If a person becomes positive, we alert all people who were in the same location
in a 4 hour span of time centered on the time of arrival of the infected
person. \\
For simplicity, for people who are in hospital date of hospitalization and 
contagion coincide; we also assume they leave the hospital on the healing 
date. \todo{is this still true?} \\
In order to populate the database, we imposed that every person visits from 6 
to 10 locations.\todo{we could add more} 

\clearpage

% DATABASE
\section{Database}

\subsection{ER Diagram}

\blindtext

\subsection{Dataset description}

We used three types of nodes: Person, Location and City. 
People are characterized by their name (composed by name and surname), 
birthdate, city, email, social security number, vaccine date, date of the last 
contagion, date of the last negative test and healing date. \\
Locations have a name and a type (restaurant, theater, hospital); 
type is used so that the dataset can be easily expanded with new types of 
location. \\
Possible relationships are: 
\begin{itemize}
    \item \texttt{WENT\char`_TO} to track people who visited a location at a 
        certain time;
	\item \texttt{IN\char`_FAMILY} for family relationships;
	\item \texttt{IS\char`_IN} between locations and cities;
	\item \texttt{LIVES\char`_IN} to link people to the city they live in;
    \item \texttt{HAS\char`_MET} to indicate contacts between people using 
        tracing app or devices;
    \item \texttt{IS\char`_HOSPITALIZED\char`_IN} to indicate people who 
        are/were hospitalized for covid reasons.
\end{itemize}

\subsection{Queries}

\blindtext

\subsection{Commands}

\blindtext

\clearpage

% APPLICATION
\section{Application}

\subsection{Description}

\blindtext

\subsection{User Guide}

\blindtext

\clearpage

% REFERENCES AND SOURCES
\section{References and sources}

\blindtext

\clearpage

\end{document}